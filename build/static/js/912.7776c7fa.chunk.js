"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[912],{912:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var s=n(152),c=n(791),m=n(880),o=n(995),r=n(853),a="CommentItem_item__+vwzS",d=n(184),u=function(e){return(0,d.jsx)("li",{className:a,children:(0,d.jsx)("p",{children:e.text})})},i="CommentsList_comments__UVWAR",l=function(e){return(0,d.jsx)("ul",{className:i,children:e.comments.map((function(e){return(0,d.jsx)(u,{text:e.text},e.id)}))})},x="Comments_comments__9cxIN",f=n(556),_="NewCommentForm_form__C3cQf",j="NewCommentForm_control__iR6jS",h="NewCommentForm_actions__NC323",C=function(e){var t=(0,c.useRef)(),n=(0,o.Z)(r.Ir),s=n.sendRequest,m=n.status,a=n.data,u=n.error;console.log(a);var i=e.onAddComments;(0,c.useEffect)((function(){"completed"!==m||u||i()}),[m,u,i]);var l=function(n){n.preventDefault();var c=t.current.value;s({commentData:{text:c},quoteId:e.quoteId})};return(0,d.jsxs)("form",{className:_,onSubmit:l,children:["pending"===m&&(0,d.jsx)("div",{className:"centered",children:(0,d.jsx)(f.Z,{})}),(0,d.jsxs)("div",{className:j,onSubmit:l,children:[(0,d.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,d.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),(0,d.jsx)("div",{className:h,children:(0,d.jsx)("button",{className:"btn",children:"Add Comment"})})]})},N=function(){var e=(0,c.useState)(!1),t=(0,s.Z)(e,2),n=t[0],a=t[1],u=(0,m.UO)(),i=(0,o.Z)(r.h_),_=i.sendRequest,j=i.status,h=i.data,N=u.quoteId;(0,c.useEffect)((function(){_(N)}),[_,N]);var p,v=(0,c.useCallback)((function(){_(N)}),[_,N]);return"pending"===j&&(p=(0,d.jsx)("div",{className:"centered",children:(0,d.jsx)(f.Z,{})})),"completed"===j&&(h||h>0)&&(p=(0,d.jsx)(l,{comments:h})),"completed"!==j||h&&0!==h||(p=(0,d.jsx)("p",{className:"centered",children:"No Comments Were Added Yet"})),(0,d.jsxs)("section",{className:x,children:[(0,d.jsx)("h2",{children:"User Comments"}),!n&&(0,d.jsx)("button",{className:"btn",onClick:function(){a(!0)},children:"Add a Comment"}),n&&(0,d.jsx)(C,{quoteId:u.quoteId,onAddComments:v}),p]})}}}]);
//# sourceMappingURL=912.7776c7fa.chunk.js.map